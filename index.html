<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>I'm Sorry ü•∫</title>

<link href="https://fonts.googleapis.com/css2?family=Dancing+Script&family=Poppins:wght@300;500&display=swap" rel="stylesheet">

<style>
body {
    background: linear-gradient(to right, #fbc2eb, #a6c1ee);
    font-family: 'Poppins', sans-serif;
    text-align: center;
    padding: 20px;
}

h1 {
    font-family: 'Dancing Script', cursive;
    font-size: 50px;
    color: #6a0572;
}

.container {
    margin-top: 20px;
}

input, textarea {
    width: 80%;
    padding: 10px;
    margin: 10px;
    border-radius: 10px;
    border: 1px solid #ccc;
}

button {
    padding: 10px 25px;
    font-size: 18px;
    border: none;
    background: #8e44ad;
    color: white;
    border-radius: 20px;
    cursor: pointer;
}

button:hover {
    background: #6a0572;
}

#output {
    margin-top: 20px;
    display: none;
}

video {
    width: 200px;
    border-radius: 20px;
    margin-top: 10px;
}

.heart {
    position: fixed;
    bottom: 0;
    color: #ff6b81;
    font-size: 22px;
    animation: float 4s linear forwards;
}

@keyframes float {
    from {
        transform: translateY(0);
    }
    to {
        transform: translateY(-100vh);
    }
}
</style>
</head>

<body>

<h1>I'm Really Sorry ü•∫</h1>

<div class="container">

<input type="text" id="name" placeholder="Enter name of person">

<textarea id="msg" placeholder="Write your apology message"></textarea>

<button onclick="generate()">Create Apology</button>

</div>

<div id="output">

<h2 id="finalText"></h2>

<!-- STICKER STYLE VIDEO -->
<video autoplay loop muted playsinline>
  <source src="teddy.mp4" type="video/mp4">
</video>

<br>

<button id="forgiveBtn" onclick="forgive()">Forgive Me?</button>

<div id="thanks" style="display:none; font-size:22px; margin-top:10px;">
Thank you for forgiving me ‚ù§Ô∏è
</div>

</div>

<script>

function generate() {

  var name = document.getElementById("name").value;
  var message = document.getElementById("msg").value;

  if(name === "" || message === "") {
      alert("Please fill both fields");
      return;
  }

  document.getElementById("finalText").innerHTML =
  "Dear " + name + ",<br><br>" + message;

  document.getElementById("output").style.display = "block";
}

let clicked = false;

function forgive() {

  if(clicked) return;

  clicked = true;

  document.getElementById("thanks").style.display = "block";

  document.getElementById("forgiveBtn").disabled = true;

  let count = 0;

  let heartInterval = setInterval(() => {

      if(count >= 20) {
          clearInterval(heartInterval);
          return;
      }

      let heart = document.createElement("div");
      heart.className = "heart";
      heart.innerHTML = "‚ù§Ô∏è";
      heart.style.left = Math.random() * 100 + "vw";

      document.body.appendChild(heart);

      setTimeout(() => {
          heart.remove();
      }, 4000);

      count++;

  }, 150);
}

</script>

</body>
</html>
